<!-- reviews/templates/reviews/edit_review.html -->
{% extends 'accounts/base.html' %}

{% block title %}Edit Ulasan untuk {{ restaurant.name }}{% endblock %}

{% block content %}
<section class="py-16 px-6">
    <div class="max-w-2xl mx-auto">
        <h1
            class="text-3xl font-bold mb-6 text-center text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500">
            Edit Ulasan
        </h1>
        <p class="text-center text-gray-300 mb-8">
            Ubah penilaianmu untuk <strong>{{ restaurant.name }}</strong>
        </p>

        <form method="POST" class="bg-gray-800 p-8 rounded-2xl shadow-xl">
            {% csrf_token %}

            <!-- Rating -->
            <div class="mb-6">
                <label class="block text-lg font-semibold mb-3 text-white">Rating ⭐</label>
                <div class="flex space-x-4">
                    {% for num in '12345'|make_list %}
                    <label class="flex flex-col items-center cursor-pointer">
                        <input type="radio" name="rating" value="{{ forloop.counter }}" 
                        {% if forloop.counter == review.rating %} checked {% endif %} required class="sr-only">
                        <span
                            class="text-3xl {% if forloop.counter <= review.rating %}text-yellow-400{% else %}text-gray-500{% endif %} hover:text-yellow-300 transition">
                            ★
                        </span>
                        <span class="text-xs text-gray-400 mt-1">{{ forloop.counter }}</span>
                    </label>
                    {% endfor %}
                </div>
            </div>

            <!-- Comment -->
            <div class="mb-6">
                <label for="comment" class="block text-lg font-semibold mb-3 text-white">Komentar</label>
                <textarea name="comment" id="comment" rows="5"
                    class="w-full px-4 py-3 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"
                    placeholder="Tulis pengalamanmu di sini...">{{ review.comment }}</textarea>
            </div>

            <!-- Submit -->
            <div class="flex space-x-4">
                <button type="submit"
                    class="flex-1 bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-pink-600 hover:to-purple-700 transition">
                    Perbarui Ulasan
                </button>
                <a href="{% url 'restaurants:detail' restaurant.id %}"
                    class="px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-500 transition">
                    Batal
                </a>
            </div>
        </form>
    </div>
</section>
{% endblock %}